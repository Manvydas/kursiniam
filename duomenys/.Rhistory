library("quantmod")
library("forecast")
library("xts")
```
Duomenų ištraukimo funkcija:
```{r}
istraukimas <- function(salis,folderio_pav,failo_pav,indikatorius,versija){
setwd(folderio_pav)
data=read.csv(failo_pav)
data = data[data$S_ADJ=="Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)",]
data = data[data$GEO == salis,]
setwd('..')
if(versija == 1){
data = data[data$UNIT=="Index, 2010=100",]
return(data[,c(1,7)])
}
if(versija == 2){
data = data[data$INDIC == indikatorius,]
return(data[,c(1,5)])
}
if(versija == 3){
data = data[data$INDIC == indikatorius,]
return(data[,c(1,6)])
}
else{print("klaida del versiju pasirinkimo")}
}
setwd("..")
setwd("duomenys")
getwd()
omx=read.csv("omx.csv")
duom=omx[,c(2,5)]
colnames(duom) <- c("Verte", "Data")
ts <- xts(duom$Verte, as.Date(duom$Data, "%m/%d/%Y"))
ts_m = apply.monthly(ts, mean)
ts_m2 = apply.monthly(ts, first)
salis="Lithuania"
indikatorius = NA                                                         # kol kas indikatoriaus nebus
folderio_pav="Turnover in industry - consumer durables"
failo_pav="sts_intv_m_1_Data.csv"
ilgalaikio_vartojimo_prekės=istraukimas(salis,folderio_pav,failo_pav,indikatorius,1)
colnames(ilgalaikio_vartojimo_prekes) <- c("Data", "ilg_vart_prek")
View(ilgalaikio_vartojimo_prekes)
folderio_pav="Turnover and volume of sales in wholesale and retail trade - monthly data"
failo_pav="sts_trtu_m_1_Data.csv"
apyvarta=istraukimas(salis,folderio_pav,failo_pav,indikatorius,1)                     #didmeninės ir mažmeninės prekybos apyvarta ir pardavimų apimtis
colnames(apyvarta) <- c("Data", "Apyvarta")
folderio_pav="Turnover and volume of sales in wholesale and retail trade - monthly data"
failo_pav="sts_trtu_m_1_Data.csv"
apyvarta=istraukimas(salis,folderio_pav,failo_pav,indikatorius,1)                     #didmeninės ir mažmeninės prekybos apyvarta ir pardavimų apimtis
istraukimas <- function(salis,folderio_pav,failo_pav,indikatorius,versija){
setwd(folderio_pav)
data=read.csv(failo_pav)
data = data[data$S_ADJ=="Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)",]
data = data[data$GEO == salis,]
setwd('..')
if(versija == 1){
data = data[data$UNIT=="Index, 2010=100",]
return(data[,c(1,7)])
}
if(versija == 2){
data = data[data$INDIC == indikatorius,]
return(data[,c(1,5)])
}
if(versija == 3){
data = data[data$INDIC == indikatorius,]
return(data[,c(1,6)])
}
else{print("klaida del versiju pasirinkimo")}
}
istraukimas <- function(salis,folderio_pav,failo_pav,indikatorius,versija){
setwd(folderio_pav)
data=read.csv(failo_pav)
data = data[data$S_ADJ=="Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)",]
data = data[data$GEO == salis,]
setwd('..')
if(versija == 1){
data = data[data$UNIT=="Index, 2010=100",]
return(data[,c(1,7)])
}
if(versija == 2){
data = data[data$INDIC == indikatorius,]
return(data[,c(1,5)])
}
if(versija == 3){
data = data[data$INDIC == indikatorius,]
return(data[,c(1,6)])
}
else{print("klaida del versiju pasirinkimo")}
}
setwd("..")
setwd("duomenys")
omx=read.csv("omx.csv")
duom=omx[,c(2,5)]
colnames(duom) <- c("Verte", "Data")
ts <- xts(duom$Verte, as.Date(duom$Data, "%m/%d/%Y"))
ts_m = apply.monthly(ts, mean)
ts_m2 = apply.monthly(ts, first)
salis="Lithuania"
indikatorius = NA                                                         # kol kas indikatoriaus nebus
folderio_pav="Turnover in industry - consumer durables"
failo_pav="sts_intv_m_1_Data.csv"
ilgalaikio_vartojimo_prekės=istraukimas(salis,folderio_pav,failo_pav,indikatorius,1)
colnames(ilgalaikio_vartojimo_prekes) <- c("Data", "ilg_vart_prek")
folderio_pav="Turnover and volume of sales in wholesale and retail trade - monthly data"
failo_pav="sts_trtu_m_1_Data.csv"
apyvarta=istraukimas(salis,folderio_pav,failo_pav,indikatorius,1)                     #didmeninės ir mažmeninės prekybos apyvarta ir pardavimų apimtis
colnames(apyvarta) <- c("Data", "Apyvarta")
indikatorius="Construction confidence indicator"
folderio_pav="Sentiment indicators - monthly data"
failo_pav="ei_bssi_m_r2_1_Data.csv"
statybu_pasitikejimas=istraukimas(salis,folderio_pav,failo_pav,indikatorius,2)
colnames(statybu_pasitikejimas) <- c("Data", "statyb_pasitik")
indikatorius="Services Confidence Indicator"
folderio_pav="Sentiment indicators - monthly data"
failo_pav="ei_bssi_m_r2_1_Data.csv"
paslaugu_pasitikejimas=istraukimas(salis,folderio_pav,failo_pav,indikatorius,2)
colnames(paslaugu_pasitikejimas) <- c("Data", "paslaugu_pasitik")
indikatorius="Consumer confidence indicator"
folderio_pav="Sentiment indicators - monthly data"
failo_pav="ei_bssi_m_r2_1_Data.csv"
vartotoju_pasitikejimas=istraukimas(salis,folderio_pav,failo_pav,indikatorius,2)
colnames(vartotoju_pasitikejimas) <- c("Data", "vartot_pasitik")
indikatorius="Retail confidence indicator"
folderio_pav="Sentiment indicators - monthly data"
failo_pav="ei_bssi_m_r2_1_Data.csv"
mazmeninis_pasitikejimas=istraukimas(salis,folderio_pav,failo_pav,indikatorius,2) #mažmeninės prekybos pasitikėjimo rodiklis
colnames(mazmeninis_pasitikejimas) <- c("Data", "mazm_pasitik")
indikatorius="Industrial confidence indicator"
folderio_pav="Sentiment indicators - monthly data"
failo_pav="ei_bssi_m_r2_1_Data.csv"
pramones_pasitikejimas=istraukimas(salis,folderio_pav,failo_pav,indikatorius,2)
colnames(pramones_pasitikejimas) <- c("Data", "pram_pasitik")
indikatorius="Business activity (sales) development over the past 3 months"
folderio_pav="Mazmenine prekyba"
failo_pav="ei_bsrt_m_r2_1_Data.csv"
verslo_aktyvumas=istraukimas(salis,folderio_pav,failo_pav,indikatorius,3)
colnames(verslo_aktyvumas) <- c("Data", "versl_aktyv")
indikatorius="Volume of stocks currently hold"
folderio_pav="Mazmenine prekyba"
failo_pav="ei_bsrt_m_r2_1_Data.csv"
turimos_akcijos=istraukimas(salis,folderio_pav,failo_pav,indikatorius,3)
colnames(turimos_akcijos) <- c("Data", "turimos_akc")
indikatorius="Expectations of the number of orders placed with suppliers over the next 3 months"
folderio_pav="Mazmenine prekyba"
failo_pav="ei_bsrt_m_r2_1_Data.csv"
uzsakymu_lukesciai=istraukimas(salis,folderio_pav,failo_pav,indikatorius,3)
colnames(uzsakymu_lukesciai) <- c("Data", "uzsak_luk")
indikatorius="Employment expectations over the next 3 months"
folderio_pav="Mazmenine prekyba"
failo_pav="ei_bsrt_m_r2_1_Data.csv"
darbo_lygio_lukesciai=istraukimas(salis,folderio_pav,failo_pav,indikatorius,3)
colnames(darbo_lygio_lukesciai) <- c("Data", "darb_lyg_luk")
setwd("Infliacija")
data = read.csv("prc_hicp_mv12r_1_Data.csv")
data = data[data$GEO == salis,]
infliacija = data[,c(1,5)]
setwd('..')
colnames(infliacija) <- c("Data", "Infliacija")
lentele <- cbind(ts_m, apyvarta[,2], darbo_lygio_lukesciai[,2], infliacija[,2], mazmeninis_pasitikejimas[,2], paslaugu_pasitikejimas[,2], pramones_pasitikejimas[,2], statybu_pasitikejimas[,2], turimos_akcijos[,2], uzsakymu_lukesciai[,2], vartotoju_pasitikejimas[,2], verslo_aktyvumas[,2] )
lentele
View(lentele)
View(infliacija)
View(lentele)
View(infliacija)
View(paslaugu_pasitikejimas)
